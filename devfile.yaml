schemaVersion: 2.1.0
metadata:
  name: workspace-vscode-datascience
    components:
      - name: che-code-runtime-description
        container:
          image: 'quay.io/devfile/universal-developer-image:ubi8-latest'
          memoryLimit: 1024Mi
          memoryRequest: 256Mi
          cpuLimit: 500m
          cpuRequest: 30m
          command:
            - /checode/entrypoint-volume.sh
          volumeMounts:
            - name: checode
              path: /checode
          endpoints:
            - name: che-code
              attributes:
                type: main
                cookiesAuthEnabled: true
                discoverable: false
                urlRewriteSupported: true
              path: '?tkn=eclipse-che'
              targetPort: 3100
              exposure: public
              secure: true
              protocol: http
            - name: code-redirect-1
              targetPort: 13131
              exposure: public
              protocol: http
              attributes:
                discoverable: false
                urlRewriteSupported: true
            - name: code-redirect-2
              targetPort: 13132
              exposure: public
              protocol: http
              attributes:
                discoverable: false
                urlRewriteSupported: true
            - name: code-redirect-3
              targetPort: 13133
              exposure: public
              protocol: http
              attributes:
                discoverable: false
                urlRewriteSupported: true
        attributes:
          app.kubernetes.io/component: che-code-runtime
          app.kubernetes.io/part-of: che-code.eclipse.org
